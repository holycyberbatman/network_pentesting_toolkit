<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 5. Using ZoneCheck</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.58.1"><link rel="home" href="index.html" title="ZoneCheck II"><link rel="up" href="index.html" title="ZoneCheck II"><link rel="previous" href="ch04.html" title="Chapter 4. Internal"><link rel="next" href="ch05s02.html" title="Output"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" lang="en"><div class="titlepage"><div><h2 class="title"><a name="id2785404"></a>Chapter 5. Using ZoneCheck</h2></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><a href="ch05.html#id2785410">Input</a></dt><dd><dl><dt><a href="ch05.html#id2785416">Command Line Interface (CLI)</a></dt><dt><a href="ch05.html#id2785839">Common Gateway Interface (CGI)</a></dt></dl></dd><dt><a href="ch05s02.html">Output</a></dt><dd><dl><dt><a href="ch05s02.html#id2785965">Text</a></dt><dt><a href="ch05s02.html#id2785974">HTML</a></dt></dl></dd></dl></div><div class="section" lang="en"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="id2785410"></a>Input</h2></div></div><div class="section" lang="en"><div class="titlepage"><div><h3 class="title"><a name="id2785416"></a>Command Line Interface (CLI)</h3></div></div><div class="itemizedlist"><ul type="disc"><li><p><tt>--lang</tt></p><p>Select another language (en, fr, ...). 
            The syntax is the same as for the environment variable
            <tt>LANG</tt>.</p></li><li><p><tt>-d <i><tt>lvl</tt></i></tt>, 
                  <tt>--debug <i><tt>lvl</tt></i></tt></p><p> Select the debugging messages to print or activate
            debugging code.  This parameter will override the value of
            the environment variable <tt>ZC_DEBUG</tt>.</p><p> The available options are:
</p><div class="segmentedlist"><table border="0"><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>0x0001</td><td>Initialisation</td></tr><tr><td>0x0002</td><td>Localization / Internationalisation</td></tr><tr><td>0x0004</td><td>Configuration</td></tr><tr><td>0x0008</td><td>Autoconf</td></tr><tr><td>0x0010</td><td>Loading tests</td></tr><tr><td>0x0020</td><td>Tests performed</td></tr><tr><td>0x0040</td><td>Debugging messages from tests</td></tr><tr><td>0x0400</td><td>Information about cached object</td></tr><tr><td>0x0800</td><td>Debugger itself</td></tr><tr><td>0x1000</td><td>Crazy Debug, don't try this at home!</td></tr><tr><td>0x2000</td><td>Dnsruby library debugging messages</td></tr><tr><td>0x4000</td><td>Disable caching</td></tr><tr><td>0x8000</td><td>Don't try to rescue exceptions</td></tr></tbody></table></div><p>

            </p></li><li><p><tt>-h</tt>, <tt>--help</tt></p><p>Show a short description of the different options  available  in ZoneCheck</p></li><li><p><tt>-V</tt>, <tt>--version</tt></p><p>print the ZoneCheck
            version and exit</p></li><li><p><tt>-q</tt>, <tt>--quiet</tt></p><p>don't display extra titles</p></li><li><p><tt>-c <i><tt>cfgfile</tt></i></tt>,
	    <tt>--config <i><tt>cfgfile</tt></i></tt></p><p>specify the location of the configuration file
            (default is <tt>etc/zonecheck/zc.conf</tt>)</p></li><li><p><tt>--testdir <i><tt>directory</tt></i></tt></p><p>specify the <i><tt>directory</tt></i>
	    where all the tests are located</p></li><li><p><tt>-C
	    <i><tt>catlist</tt></i></tt>,
	    <tt>--category <i><tt>catlist</tt></i></tt>
            </p><p>limit the test to the specified category list
	    (<i><tt>catlist</tt></i>); the list is comma
	    separeted and we stop on the first match. If the category
	    start with <tt>-</tt> or <tt>!</tt>
	    the test should not belong to that category, if it starts
	    with nothing or <tt>+</tt> the test should
	    belong to it. It is possible to have subcategories which
	    are delimited by <tt>:</tt>. Here is an example
	    that says don't perform DNS tests that are not SOA
	    related: <tt>dns:soa,!dns,+</tt></p></li><li><p><tt>-T <i><tt>testname</tt></i></tt>,
            <tt>--test <i><tt>testname</tt></i></tt></p><p>only the test <i><tt>testname</tt></i> will
            be performed and its severity will default to 
            <tt>fatal</tt></p></li><li><p><tt>-r <i><tt>host</tt></i></tt>,
            <tt>--resolver <i><tt>host</tt></i></tt></p><p>the nameserver running on <i><tt>host</tt></i>
            will be used as the local resolver instead of taking this
            information from <tt>/etc/resolv.conf</tt></p></li><li><p><tt>-n <i><tt>nameservers</tt></i></tt>,
            <tt>--ns <i><tt>nameservers</tt></i></tt></p><p><i><tt>nameservers</tt></i> is the exhaustive
            list of nameservers that are primary or secondary for the zone,
            they are separated by a semicolon, if IP
	    addresses should be specified the hostname must be
	    followed by the equal sign and a coma separated list of
	    IP addresses. For example: <tt>ns1.toto.fr=192.168.1.5,192.168.1.6;ns2.toto.fr</tt> </p></li><li><p><tt>-1</tt>, <tt>--one</tt></p><p>only display the most relevant message</p></li><li><p><tt>-g</tt>, <tt>--tagonly</tt></p><p>display tag instead of sentences, this option should be used
             when writing scripts</p></li><li><p><tt>-e <i><tt>list</tt></i></tt>, 
            <tt>--error <i><tt>list</tt></i></tt></p></li><li><p><tt>-t <i><tt>list</tt></i></tt>,
            <tt>--transp <i><tt>list</tt></i></tt></p><p><i><tt>list</tt></i></p></li><li><p><tt>-v <i><tt>list</tt></i></tt>,
            <tt>--verbose <i><tt>list</tt></i></tt></p><p><i><tt>list</tt></i></p></li><li><p><tt>-o <i><tt>list</tt></i></tt>,
             <tt>--output <i><tt>list</tt></i></tt></p><p><i><tt>list</tt></i></p></li><li><p><tt>-4</tt>, <tt>--ipv4</tt></p><p>use IPv4 connectivity only</p></li><li><p><tt>-6</tt>, <tt>--ipv6</tt></p><p>use IPv6 connectivity only</p></li><li><p><tt>--testlist</tt></p><p>list all the available tests</p></li><li><p><tt>--testdesc <i><tt>type</tt></i></tt></p><p><i><tt>type</tt></i>s is one of the keyword

<tt>name</tt> <tt>expl</tt> <tt>error</tt></p></li></ul></div><table border="0" bgcolor="#E0E0E0"><tr><td><pre class="screen">% <b><tt>zc -4 -v c,x,d,i afnic.fr</tt></b>
ZONE  : afnic.fr.
NS &lt;= : ns1.nic.fr. [192.93.0.1]
NS    : ns2.nic.fr. [192.93.0.4]
NS    : ns3.nic.fr. [192.134.0.49, 2001:660:1180:1:192:134::49]

==&gt; SUCCED
</pre></td></tr></table></div><div class="section" lang="en"><div class="titlepage"><div><h3 class="title"><a name="id2785839"></a>Common Gateway Interface (CGI)</h3></div></div><p>
	</p><div class="itemizedlist"><ul type="disc"><li><p><tt>lang</tt> = [ fr | en | ... ]</p></li><li><p>quiet</p></li><li><p> - one\n</p></li><li><p> - verbose  = [ i|intro, n|testname, x|explain, d|details,\n\
                t|testdesc, c|counter, o|reportok ]\n\
	</p><div class="itemizedlist"><ul type="circle"><li><p>
     - intro\n\</p></li><li><p>          - testname\n\</p></li><li><p>     - explain\n\</p></li><li><p>     - details\n\</p></li><li><p>     - progress = [ t|testdesc | c|counter ]\n\</p></li><li><p>     - reportok\n\</p></li></ul></div><p>
</p></li><li><p> - output   = [ bs|byseverity, bh|byhost, t|text, h|html ]\n\
     - report   = bs|byseverity | bh|byhost\n\
     - format   = h|html | text\n\</p></li><li><p> - error    = [ af|allfatal, aw|allwarning, std|standard,\n\
                s|stop, ns|nostop ]\n\
     - errorlvl  = [ af|allfatal | aw|allwarning | std|standard ]\n\
     - dontstop \n\</p></li><li><p> - transp   = [ ipv4, ipv6, udp, tcp, std ]\n\
     - transp3   = [ ipv4, ipv6 ]\n\
     - transp4   = [ udp | tcp | std ]\n\</p></li><li><p> - category = cat1,!cat2:subcat1,cat2,!cat3,+\n\
     - chkmail (!mail)\n\
     - chkrir  (!rir)\n\
     - chkzone (!dns:axfr)\n\</p></li><li><p> - ns       = ns1=ip1,ip2;ns2=ip3;ns3\n\
               (WARNING: in URL '%3b' should be used instead of ';')\n\
     - ns0  .. nsX   = nameserver name\n\
     - ips0 .. ipsX  = coma separated ip addresses\n\</p></li><li><p> - zone     = zone to test\n\</p></li></ul></div><p>
</p></div></div></div></body></html>
